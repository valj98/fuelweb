<html>

<head>

<script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>

 <script 
 	src="https://cdnjs.cloudflare.com/ajax/libs/URI.js/1.19.0/URI.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.2/knockout-min.js"></script>

<style>
table {
    border-collapse: collapse;
    width: 100%;
}

th, td {
    padding: 8px;
    text-align: left;
    border-bottom: 1px solid black;
}



</style>

</head>
<html>
<head>

<style style="text/css">
body {
  background-image: url("https://www.walldevil.com/wallpapers/a52/winter-road-background-wallpapers.jpg");
  background-position: 50% 50%;
  background-repeat: no-repeat;
}
body,h1 {font-family: "Raleway", sans-serif}
h1 {
    color: #f5f5f5;
    text-shadow: 2px 2px 2px #000000;
</style>
</head>
</html>
<body>

<section id="pricelistsection">

<center><h1>Price List</h1></center>

<table>
	<table bgcolor="#f5f5f5">

  <tr>
    <th>Business Name</th>
    <th>Price</th>
    <th>Location</th>
  </tr>


<tr>			

	<td>	

		<div data-bind="foreach: contributions">

			<br>
			<span data-bind="text:businessname"></span>
			</br>


		</div>

	</td>

	<td>	

		<div data-bind="foreach: contributions">

		<br>
			<a href="calculator.html" data-bind="click: function (data) { localStorage.tempVal = data.price();
			 return true;}"> <span data-bind="text:price"></span>
			</a>
		</br>

		</div>


	</td>

	<td>

		<div data-bind="foreach: contributions">

		<br>
			<span data-bind="text: streetname"></span>

		</br>

		</div>

	</td>

</tr>


</table>


</section>


<a href="index.html">Go Back</a>

<script>
	var ContributionVieModel = function(businessname, price, streetname){

		var self = this;
		self.businessname = ko.observable(businessname);
		self.price = ko.observable(price);
		self.streetname = ko.observable(streetname); 

	};

	var PricelistViewModel = function(){

		var self = this;
		self.contributions = ko.observableArray();

	};

	var pricedata = JSON.parse(localStorage.pricedata);

	var pricelist = new PricelistViewModel();

	for(var i = 0; i < pricedata.length; i++){

		var rawdata = pricedata[i];
		var contribution = new ContributionVieModel(rawdata.businessname, rawdata.price, rawdata.streetlocation);
		pricelist.contributions.push(contribution);

	}

    ko.applyBindings(pricelist, document.getElementById('pricelistsection'));



</script>

</body>

</html>
